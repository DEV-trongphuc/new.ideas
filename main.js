const IDEAS_DATA = {
  year_count: 14,
  students_count: 2451,
  courses_count: 70,
  teachers_count: 25,
  facebook_link: "https://www.facebook.com/?locale=vi_VN",
  youtube_link: "https://www.facebook.com/?locale=vi_VN",
  zalo_link: "https://www.facebook.com/?locale=vi_VN",
  linkedin_link: "https://www.facebook.com/?locale=vi_VN",
  course: [
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      name: "Global MBA",
      school: "Swiss UMEF",
      subjects: "12 Môn và luận văn",
      duration: "14-16 tháng",
      link: "#",
    },
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      name: "Global MBA",
      school: "Swiss UMEF",
      subjects: "12 Môn và luận văn",
      duration: "14-16 tháng",
      link: "#",
    },
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      name: "Global MBA",
      school: "Swiss UMEF",
      subjects: "12 Môn và luận văn",
      duration: "14-16 tháng",
      link: "#",
    },
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      name: "Global MBA",
      school: "Swiss UMEF",
      subjects: "12 Môn và luận văn",
      duration: "14-16 tháng",
      link: "#",
    },
  ],
  graduation_ceremony: [
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      school: "Swiss UMEF",
      name: "Global MBA",
      time: "27/02/2025",
      link: "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
    },
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      school: "Swiss UMEF",
      name: "Global MBA",
      time: "27/02/2025",
      link: "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
    },
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      school: "Swiss UMEF",
      name: "Global MBA",
      time: "27/02/2025",
      link: "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
    },
    {
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
      school: "Swiss UMEF",
      name: "Global MBA",
      time: "27/02/2025",
      link: "https://ideas.edu.vn/wp-content/uploads/2024/11/8X1A9328-1-1.jpg",
    },
  ],
  student_quote: [
    {
      name: "Nguyễn Thanh Bình",
      title:
        "Tiến sĩ QTKD Pháp – Ascencia Business School - Director of Information & Environment technology application Institute",
      avatar: "https://ideas.edu.vn/wp-content/uploads/2025/02/casc1.jpg",
      content:
        "Cảm ơn sự hổ trợ rất nhiệt tình của đội ngũ cán bộ và nhân viên của Viện IDEAS, đã đồng hành cùng chúng tôi trong suốt quá trình nghiên cứu, hỗ trợ không quản ngày đêm để chúng tôi hoàn thành mục tiêu nghiên cứu Tiến Sĩ – cấp bậc cao nhất của Học vị.",
    },
    {
      name: "Nguyễn Huỳnh Phương",
      title:
        "Thạc Sĩ QTKD Pháp (Global MBA) – Ascencia Business School UNIT MANAGER in Hanwha Life Việt Nam",
      avatar: "https://ideas.edu.vn/wp-content/uploads/2025/02/huynhphuong.jpg",
      content:
        "Đối với những bạn chọn chương trình trực tuyến, tôi khuyên bạn nên chọn nơi đáng tin cậy như Viện IDEAS. Bạn nên chia sẻ mọi căng thẳng hoặc khó khăn với giảng viên vì họ sẽ đưa ra những gợi ý hữu ích để giúp bạn vượt qua những khó khăn đó.",
    },
    {
      name: "Nguyễn Thị Hà Miên",
      title:
        "Thạc Sĩ QTKD Pháp (Global MBA) – Ascencia Business School Deputy Project Manager",
      avatar: "https://ideas.edu.vn/wp-content/uploads/2025/02/hamien.jpg",
      content:
        "Tôi chọn chương trình trực tuyến vì nó linh hoạt hơn. Bên cạnh đó, sự hỗ trợ 24/7 của Viện IDEAS đã giúp tôi hoàn thành tốt nhất về thời hạn nộp bài tập liên tục cũng như nhắc nhở thường xuyên về lớp học.",
    },
    {
      name: "Lê Ngọc Thương",
      title:
        "Thạc Sĩ QTKD Thụy Sĩ (Executive MBA) – Swiss UMEF Head of Commercial Operations – Boehringer Ingelheim",
      avatar: "https://ideas.edu.vn/wp-content/uploads/2025/02/cumef.jpg",
      content:
        " Chương trình đã kết nối tôi với nhiều bạn cùng lớp ở các ngành nghề khác nhau, giúp tôi tiếp nhận những chia sẻ và kinh nghiệm quý báu. Tôi đặc biệt cảm ơn Viện IDEAS vì sự hỗ trợ suốt 1 năm qua, từ kiến thức chuyên gia đến hỗ trợ hành chính 24/7, giúp tôi cân bằng việc học và công việc để đạt được mục tiêu.",
    },
    {
      name: "Lê Chí Thành",
      title:
        "Tiến sĩ QTKD Pháp – Ascencia Business School Channel Business Manager (Indochina) | Leica Biosystems (an OpCo of Danaher).",
      avatar: "https://ideas.edu.vn/wp-content/uploads/2025/02/casc2.jpg",
      content:
        "Hành trình học trực tuyến từ năm 2016 chương trình MBA và sau đó tiếp bước lựa chọn DBA của tôi luôn được hỗ trợ và đồng hành bởi đội ngũ của Viện IDEAS. Có thể học online là sự lựa chọn phù hợp cho tôi để sắp xếp giữa công việc và gia đình. Lời cảm ơn sâu sắc của tôi gửi đến Dr. Pham Quang Vinh và đội ngũ hỗ trợ IDEAS, đã luôn động viên, nhắc nhở trong suốt chặng đường dài này.",
    },
    {
      name: "Chu Hoàng Thái",
      title:
        "Thạc Sĩ QTKD Thụy Sĩ (Executive MBA) – Swiss UMEF Director Of Housekeeping – REGENT PHU QUOC",
      avatar:
        "https://ideas.edu.vn/wp-content/uploads/2025/02/chu_hoang_thai.jpg",
      content:
        "Lựa chọn chương trình EMBA của Swiss UMEF – hỗ trợ bởi IDEAS là một quyết định đúng đắn đối với tôi, vì nó thuận tiện cho việc vừa đi học vừa đi làm cũng như phù hợp về khả năng tài chính của tôi. Ngoài kiến thức từ các giáo sư Thụy sĩ và châu âu, giá trị lớn nhất đối với tôi là mạng lưới quan hệ (networking).",
    },
  ],
  school: {
    "Swiss UMEF": {
      link: "/umef",
      logo: "https://ideas.edu.vn/wp-content/uploads/2023/07/Logo-Swiss-UMEF.webp",
      small_logo:
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShSoIjIIW_XlfCq3nbCxt--s3zt2lxrO74_A&amp;s",
    },
    Ascencia: {
      link: "/umef",
      logo: "https://ideas.edu.vn/wp-content/uploads/2024/03/Logo-Ascencia-Business-School-1.png",
      small_logo: "#",
    },
    "College de Paris": {
      link: "/umef",
      logo: "https://www.collegedeparis.com/wp-content/uploads/2021/06/cdp-formation-continue.png",
      small_logo: "#",
    },
    SBS: {
      link: "/umef",
      logo: "https://ideas.edu.vn/wp-content/uploads/2024/11/SBS.png",
      small_logo: "#",
    },
    Estiam: {
      link: "/umef",
      logo: "https://ideas.edu.vn/wp-content/uploads/2025/03/estiam.png",
      small_logo: "#",
    },
  },
  partner: [
    {
      name: "ChiefAI",
      link: "#",
      logo: "https://chiefaiofficer.vn/wp-content/uploads/2024/09/cao-logo.png",
    },
    {
      name: "ChiefAI",
      link: "#",
      logo: "https://ideas.edu.vn/wp-content/uploads/2023/07/tssac-2.webp",
    },
    {
      name: "ChiefAI",
      link: "#",
      logo: "https://ideas.edu.vn/wp-content/uploads/2023/07/Untitled-design-1-e1657270193979.webp",
    },
    {
      name: "ChiefAI",
      link: "#",
      logo: "https://ideas.edu.vn/wp-content/uploads/2023/07/1646029406269.webp",
    },
    {
      name: "ChiefAI",
      link: "#",
      logo: "https://ideas.edu.vn/wp-content/uploads/2025/03/estiam.png",
    },
  ],
  faq: [
    {
      q: "Hình thức và ngôn ngữ học tập của các chương trình như thế nào?",
      a: "Học viên sẽ được cấp tài khoản hệ thống từ trường Đại học đã đăng ký. Hình thức học tập Online 100%. Các bài học được mở và giảng dạy bằng tiếng Anh. Viện IDEAS sẽ tổ chức các buổi học, review, chuyên đề bằng tiếng Việt song song với chương trình học để các học viên có thể nắm bắt và theo kịp tiến độ của chương trình. Ngoài ra độ ngũ chuyên môn hỗ trợ học viên review các bài Final Exam của mỗi môn học",
    },
    {
      q: "Viện IDEAS có phải là trường Đại học không?",
      a: "Viện IDEAS không phải là một trường đại học mà là một đơn vị hỗ trợ học thuật, hợp tác với các chương trình học của các trường Đại học liên quan đến các chương trình đào tạo Thạc sĩ Online quốc tế. Đội ngũ tư vấn, hỗ trợ chuyên nghiệp và các giảng viên chuyên môn với nhiều năm kinh nghiệm sẽ cùng học viên ôn tập các môn học song song chương trình trên lớp khi học viên chọn theo học chương trình Quốc tế dưới sự hỗ trợ từ IDEAS.",
    },
    {
      q: "Các chương trình đào tạo Thạc Sĩ tại IDEAS là gì?",
      a: "Các chương trình đào tạo thạc sĩ chủ yếu thuộc chuyên ngành thạc sĩ Quản trị kinh doanh Online đến từ các trường đại học danh giá các nước: Hoa Kỳ, Thụy Sĩ, Pháp, Canada,… Được IDEAS chọn lọc chất lượng và phù hợp với việc vừa học vừa làm của các học viên Việt Nam. Bên cạnh đó các chương trình phải có đầy đủ những kiểm định từ các tổ chức kiểm định giáo dục quốc tế và đất nước sở tại. Học viên có thể yên tâm và lựa chọn học tập dưới sự hỗ trợ từ Viện IDEAS.",
    },
  ],
};
document.addEventListener("DOMContentLoaded", () => {
  const ideas_form_choose = document.querySelector(".ideas_form_choose");
  const ideas_follow_1 = document.querySelector(
    ".ideas_follow a:nth-of-type(1)"
  );
  const ideas_follow_2 = document.querySelector(
    ".ideas_follow a:nth-of-type(2)"
  );
  const ideas_follow_3 = document.querySelector(
    ".ideas_follow a:nth-of-type(3)"
  );
  const ideas_follow_4 = document.querySelector(
    ".ideas_follow a:nth-of-type(4)"
  );
  const year_count = document.querySelector(".year_count");
  year_count.textContent = IDEAS_DATA.year_count;
  const students_count = document.querySelector(".students_count");
  students_count.textContent = IDEAS_DATA.students_count;
  const teachers_count = document.querySelector(".teachers_count");
  teachers_count.textContent = IDEAS_DATA.teachers_count;
  const courses_count = document.querySelector(".courses_count");
  courses_count.textContent = IDEAS_DATA.courses_count;
  const students_count_quote = document.querySelector(".students_count_quote");
  students_count_quote.textContent =
    IDEAS_DATA.students_count - IDEAS_DATA.student_quote.length;
  ideas_follow_1.href = IDEAS_DATA.facebook_link;
  ideas_follow_2.href = IDEAS_DATA.youtube_link;
  ideas_follow_3.href = IDEAS_DATA.linkedin_link;
  ideas_follow_4.href = IDEAS_DATA.zalo_link;
  const ideas_alert_close = document.querySelector(".ideas_alert_close");
  const ideas_alert = document.querySelector(".ideas_alert");
  const ideas_form_choose_list = document.querySelector(
    ".ideas_form_choose ul"
  );
  const ideas_form = document.querySelector(".ideas_form");
  const ideas_form_choose_span = document.querySelector(
    ".ideas_form_choose span"
  );
  const ideas_form_close = document.querySelector(".ideas_form_close");
  ideas_form_choose.addEventListener("click", () => {
    ideas_form_choose.classList.toggle("active");
  });
  ideas_alert_close.addEventListener("click", () => {
    ideas_alert.classList.remove("active");
  });
  ideas_form_close.addEventListener("click", () => {
    ideas_form.classList.remove("active");
  });
  ideas_form_choose_list.addEventListener("click", (event) => {
    const clickedItem = event.target.closest("li"); // Kiểm tra nếu click vào <li>
    if (clickedItem) {
      ideas_form_choose_span.textContent = clickedItem.textContent.trim(); // In ra nội dung của <li>
    }
  });
  const historyInner = document.querySelector(".ideas_history_inner");

  if (historyInner && IDEAS_DATA.graduation_ceremony.length > 0) {
    IDEAS_DATA.graduation_ceremony.forEach((ceremony) => {
      const historyHTML = `
        <div class="ideas_history_item">
          <span class="ideas_history_time">${ceremony.time}</span>
          <img src="${ceremony.avatar}" alt="Lễ tốt nghiệp ${ceremony.name}">
          <div class="ideas_history_item_info">
            <p>Lễ tốt nghiệp</p>
            <p><i class="fa-solid fa-earth-oceania"></i> ${ceremony.school}</p>
            <p><i class="fa-solid fa-graduation-cap"></i> ${ceremony.name}</p>
            <a href="${ceremony.link}" target="_blank">
              <i class="fa-solid fa-play"></i>
            </a>
          </div>
        </div>
      `;
      historyInner.innerHTML += historyHTML;
    });
  }
  // RENDER TỐT NGHIỆP

  const ideasFaqInner = document.querySelector(".ideas_faq_inner");
  ideasFaqInner.innerHTML = IDEAS_DATA.faq
    .map(
      (item, index) => `
    <div class="ideas_faq_item ${index === 0 ? "active" : ""}">
      <p>
        <span>${item.q}</span>
        <span><i class="fa-solid fa-plus"></i></span>
      </p>
      <span>${item.a}</span>
    </div>
  `
    )
    .join("");

  const faqItems = document.querySelectorAll(".ideas_faq_item");

  faqItems.forEach((item) => {
    item.addEventListener("click", function () {
      // Bỏ active của tất cả item trước khi bật cái được click
      faqItems.forEach((el) => el.classList.remove("active"));
      item.classList.add("active");
    });
  });

  const schoolContainer = document.querySelector(".ideas_coop_box.school");

  if (schoolContainer && Object.keys(IDEAS_DATA.school).length > 0) {
    schoolContainer.innerHTML = ""; // Xóa nội dung cũ

    Object.entries(IDEAS_DATA.school).forEach(([name, school]) => {
      const schoolItem = document.createElement("a");
      schoolItem.classList.add("ideas_coop_item");
      schoolItem.href = school.link; // Gán link của trường

      const img = document.createElement("img");
      img.src = school.logo;
      img.alt = name;

      schoolItem.appendChild(img);
      schoolContainer.appendChild(schoolItem);
    });
  }

  const avatarContainer = document.querySelector(
    ".ideas_social_avatar_inner > div"
  );

  if (avatarContainer && IDEAS_DATA.student_quote.length > 0) {
    avatarContainer.innerHTML = ""; // Xóa nội dung cũ

    IDEAS_DATA.student_quote.forEach((student, index) => {
      const img = document.createElement("img");
      img.src = student.avatar;
      img.alt = student.name;

      // Nếu là 2 ảnh đầu tiên, thêm class "ideas_social_main_avt"
      if (index < 2) {
        img.classList.add("ideas_social_main_avt");
      }

      avatarContainer.appendChild(img);
    });
  }

  const quoteInner = document.querySelector(".ideas_quote_inner");

  if (quoteInner && IDEAS_DATA.student_quote.length > 0) {
    IDEAS_DATA.student_quote.forEach((quote) => {
      const quoteHTML = `
        <div class="ideas_quote_item">
          <div class="ideas_quote_info">
            <img src="${quote.avatar}" alt="${quote.name}">
            <div>
              <p>${quote.name}</p>
              <div class="ideas_star">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
              </div>
              <span>${quote.title}</span>
            </div>
          </div>
          <div class="ideas_quote_detail">
            <i class="fa-solid fa-quote-left"></i> ${quote.content}
          </div>
        </div>
      `;
      quoteInner.innerHTML += quoteHTML;
    });
  }
  const coursesBox = document.querySelector(".ideas_courses_box");

  if (coursesBox && IDEAS_DATA.course.length > 0) {
    IDEAS_DATA.course.forEach((course) => {
      const courseHTML = `
      <div class="ideas_course">
        <img src="${course.avatar}" alt="${course.name}">
        <div class="ideas_course_info">
          <p>${course.name}</p>
          <div class="ideas_school">
            <a href="${IDEAS_DATA.school[course.school].link}" target="_blank">
              <img src="${IDEAS_DATA.school[course.school].small_logo}">
              <span>${course.school}</span>
            </a>
          </div>
          <ul class="ideas_course_detail">
            <li><i class="fa-solid fa-book"></i> ${course.subjects}</li>
            <li><i class="fa-solid fa-clock"></i> ${course.duration}</li>
          </ul>
          <div class="ideas_btns space_between">
            <a data-sumbit="${
              course.name
            }" class="sign_course"><i class="fa-solid fa-headset"></i> Tư vấn</a>
            <a href="${
              course.link
            }" class="view_course"><i class="fa-solid fa-graduation-cap"></i> Chi tiết</a>
          </div>
        </div>
      </div>
    `;
      coursesBox.innerHTML += courseHTML;
    });
  }
  // document
  //   .querySelector(".ideas_form_submit")
  //   .addEventListener("click", function (event) {
  //     event.preventDefault();

  //     let name = document.querySelector("input:nth-of-type(1)").value.trim();
  //     let email = document.querySelector("input:nth-of-type(2)").value.trim();
  //     let phone = document.querySelector("input:nth-of-type(3)").value.trim();
  //     let degree = document.querySelector("select").value.trim();
  //     let message = document.querySelector("textarea").value.trim();

  //     let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  //     let phoneRegex = /^[0-9]{9,11}$/;

  //     if (!name) {
  //       alert("Vui lòng nhập tên của bạn!");
  //       return;
  //     }
  //     if (!emailRegex.test(email)) {
  //       alert("Email không hợp lệ!");
  //       return;
  //     }
  //     if (!phoneRegex.test(phone)) {
  //       alert("Số điện thoại phải có 9-11 chữ số!");
  //       return;
  //     }
  //     if (!degree) {
  //       alert("Vui lòng chọn bằng cấp!");
  //       return;
  //     }
  //     if (!message) {
  //       alert("Vui lòng nhập chia sẻ về kinh nghiệm và nhu cầu!");
  //       return;
  //     }

  //     alert("Gửi thành công!");
  //     // Nếu muốn gửi form thật sự thì thay alert bằng:
  //     // document.querySelector("form").submit();
  //   });
  let lastScrollTop = 0;
  const header = document.querySelector(".ideas_header");

  window.addEventListener("scroll", function () {
    let scrollTop = window.scrollY || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop) {
      // Cuộn xuống -> Ẩn header
      header.classList.add("hide");
    } else {
      // Cuộn lên -> Hiện header
      header.classList.remove("hide");
    }
    lastScrollTop = scrollTop;
  });
});
